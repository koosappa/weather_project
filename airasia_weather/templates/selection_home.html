
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.css" />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <script>
        function multipleFunc() {
            var selectedValues = $('#city').val();
            alert(selectedValues);
            $.ajax({
                    type:"POST",
                    url: "multiple_select",
                    headers: {'X-CSRFToken': csrftoken},
                    data: {
                    "multi":selectedValues
                    },
                    async:false,
                    success: function(data){
                    myData = data

                     console.log("Im final data" + myData)
            },
            fail:function(err){
                alert("failed");
            }

  });

        }
     </script>

</head>
<body>
    <section class="hero is-primary">
        <div class="container">
            <div class="get-quote">
                <div class="row">
                    <div class="col-sm-6 col-12">
                        <a href="/"><h3 id="quote">AirAsia  Weather</h3></a>
                    </div>
                    <div class="col-sm-4 col-12">

                        <a type="button" class="btn btn-success" href='add_city'>Add City</a>
                        <a type="button" class="btn btn-success" href='location'>Location</a>
                        <!-- <a type="button" class="btn btn-success" href='table_content'>Table/Carosal</a> -->
                        <a type="button" class="btn btn-success" href='view_data'>5 days View</a>
                        
                        
                    </div>
                    
                </div>
            </div>
        </div>
    </section>

    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-offset-4 is-4">

     
            <form action="" method="post">
                {% csrf_token %}
                <select multiple="multiple" class="form-select form-select-lg mb-3" aria-label="Default select example" name = "city" id="city">
                    {% for i in city_names %}
                    <option value={{ i }} name= {{ i }} > {{ i }}</option>
                    {% endfor %}
                </select>

                <input type="submit" value="Select City" >

                {% if message %}
                            <div class="notification {{ message_class }}">{{ message }}<button class="del-msg delete" onclick="document.getElementsByClassName('notification')[0].style.display='none'"></button></div>
                            
                        {% endif %}

    </form>

               
</div>
</div>
</div>
</section>


<section class="section">
    <div class="container">
        <div class="columns">
            <div class="column is-offset-4 is-4">
              
                {% for city_weather in weather_data %}
                     
                <div class="box">
                    <article class="media">
                        <div class="media-left">
                            <figure class="image is-50x50">
                                <img src="http://openweathermap.org/img/w/{{ city_weather.icon }}.png" alt="Image">
                            </figure>
                        </div>
                        <div class="media-content">
                            <div class="content">
                                <p>
                                    <span class="title">{{ city_weather.city_name }}</span>
                                    <br>
                                    <span class="subtitle">{{ city_weather.temp }}Â° F</span>
                                    <br> {{ city_weather.description }}
                                </p>
                            </div>
                        </div>
                        <div class="media-right">
                            <a href="{% url 'delete_city' city_weather.city_name %}">
                                <button class="delete"></button>
                            </a>
                        </div>

                        <div class="media-right">
                            <a href="{% url 'edit_city' city_weather.city_name %}">
                                <button class="edit"></button>
                            </a>
                        </div>

                    </article>
                </div>
               {% endfor %}
            </div>
        </div>
    </div>
</section>

</body>